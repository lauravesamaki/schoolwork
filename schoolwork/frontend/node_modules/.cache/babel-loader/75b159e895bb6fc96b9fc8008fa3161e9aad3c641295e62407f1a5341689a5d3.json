{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projektit\\\\schoolwork\\\\schoolwork\\\\frontend\\\\src\\\\pages\\\\SignIn.js\",\n  _s = $RefreshSig$();\nimport '../App.css';\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport InputComponent from \"../components/Input\";\nimport ButtonComponent from \"../components/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SignIn() {\n  _s();\n  const nav = useNavigate();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const {\n    username,\n    password\n  } = formData;\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const user = await axios.get(`http://localhost:5000/api/users/`, {\n      params: {\n        username: username\n      }\n    });\n    if (user) {\n      await axios.post(`http://localhost:5000/api/users/login`, {\n        password: password,\n        username: username\n      }).then(res => {\n        if (res.status === 200) {\n          nav(`/user/${user.data._id}`, {\n            state: {\n              username: user.data.username\n            }\n          });\n        } else {\n          alert('Incorrect username or password');\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Schoolwork\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"App-main\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(InputComponent, {\n          placeholder: \"Username\",\n          onChange: e => setFormData({\n            ...formData,\n            username: e.target.value\n          }),\n          value: username,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(InputComponent, {\n          type: \"password\",\n          placeholder: \"Password\",\n          onChange: e => setFormData({\n            ...formData,\n            password: e.target.value\n          }),\n          value: password,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ButtonComponent, {\n          text: \"Sign In\",\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/signup\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n_s(SignIn, \"hKBnjYXu3aGgiu0LbNbul9fiBvg=\", false, function () {\n  return [useNavigate];\n});\n_c = SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["useNavigate","useState","axios","InputComponent","ButtonComponent","jsxDEV","_jsxDEV","SignIn","_s","nav","formData","setFormData","username","password","handleSubmit","e","preventDefault","user","get","params","post","then","res","status","data","_id","state","alert","catch","err","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","target","value","required","type","text","href","_c","$RefreshReg$"],"sources":["D:/Projektit/schoolwork/schoolwork/frontend/src/pages/SignIn.js"],"sourcesContent":["import '../App.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport InputComponent from \"../components/Input\";\r\nimport ButtonComponent from \"../components/Button\";\r\n\r\nexport default function SignIn() {\r\n    const nav = useNavigate();\r\n    const [formData, setFormData] = useState({\r\n        username: '',\r\n        password: ''\r\n    });\r\n\r\n    const { username, password } = formData;\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const user = await axios.get(`http://localhost:5000/api/users/`, { params: { username: username } })\r\n        \r\n        if (user) {\r\n            await axios.post(`http://localhost:5000/api/users/login`, { password: password, username: username } )\r\n                .then((res) => {\r\n                    if (res.status === 200) {\r\n                        nav(`/user/${user.data._id}`, { state: { username: user.data.username } });\r\n                    }\r\n                    else {\r\n                        alert('Incorrect username or password');\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <header className=\"App-header\">\r\n                <h1>Schoolwork</h1>\r\n            </header>\r\n            <main className='App-main'>\r\n                <h2>Sign In</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    <InputComponent\r\n                        placeholder=\"Username\"\r\n                        onChange={(e) => setFormData({ ...formData, username: e.target.value })}\r\n                        value={username}\r\n                        required />\r\n                    <InputComponent\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n                        value={password}\r\n                        required />\r\n                    <ButtonComponent text=\"Sign In\" type='submit' />\r\n                </form>\r\n                <p>Don't have an account? <a href=\"/signup\">Sign Up</a></p>\r\n            </main>\r\n        </div>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}